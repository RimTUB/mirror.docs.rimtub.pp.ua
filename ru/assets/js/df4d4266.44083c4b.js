"use strict";(self.webpackChunkrim_tub_docs_release=self.webpackChunkrim_tub_docs_release||[]).push([[2403],{8427:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"storages/db","title":"SQL DataBase (db)","description":"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f SQLite \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445.","source":"@site/i18n/ru/docusaurus-plugin-content-docs/current/10_storages/00_DB.md","sourceDirName":"10_storages","slug":"/storages/db","permalink":"/ru/docs/storages/db","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"title":"SQL DataBase (db)","sidebar_position":0,"slug":"db","id":"db"},"sidebar":"tutorialSidebar","previous":{"title":"Data Storages","permalink":"/ru/docs/category/data-storages"},"next":{"title":"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435 (st)","permalink":"/ru/docs/storages/st"}}');var d=s(4848),r=s(8453);const t={title:"SQL DataBase (db)",sidebar_position:0,slug:"db",id:"db"},l=void 0,c={},a=[{value:"\u041c\u0435\u0442\u043e\u0434\u044b",id:"\u043c\u0435\u0442\u043e\u0434\u044b",level:2},{value:"\u0421\u0438\u0441\u0442\u0435\u043c\u0430 <strong>set-get</strong>.",id:"\u0441\u0438\u0441\u0442\u0435\u043c\u0430-set-get",level:2},{value:"async <code>set</code>",id:"async-set",level:3},{value:"async <code>get</code>",id:"async-get",level:3},{value:"async <code>getall</code>",id:"async-getall",level:3},{value:"async <code>remove</code> / <code>delete</code>",id:"async-remove--delete",level:3},{value:"SQL",id:"sql",level:2},{value:"async <code>sql</code>",id:"async-sql",level:3},{value:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b:",id:"\u043f\u0440\u0438\u043c\u0435\u0440\u044b",level:2}];function o(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.p,{children:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0435, \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0435 \u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0449\u0435. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f SQLite \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445."}),"\n",(0,d.jsxs)(n.p,{children:["\u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043c\u043e\u0434\u0443\u043b\u044f \u0441\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f \u0441\u0432\u043e\u044f \u0431\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 (\u043f\u0440\u0438 \u0447\u0435\u043c \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u0441\u0432\u043e\u044f). \u042d\u0442\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 \u043d\u0430\u0445\u043e\u0434\u044f\u0442\u0441\u044f \u043f\u043e \u043f\u0443\u0442\u0438 ",(0,d.jsx)(n.code,{children:"/databases/<ModuleName>/database_<user_id>.db"}),". \u042d\u0442\u043e\u0442 \u043f\u0443\u0442\u044c \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e ",(0,d.jsx)(n.a,{href:"./module#db_path",children:(0,d.jsx)(n.code,{children:"mod.db_path"})})]}),"\n",(0,d.jsx)(n.h2,{id:"\u043c\u0435\u0442\u043e\u0434\u044b",children:"\u041c\u0435\u0442\u043e\u0434\u044b"}),"\n",(0,d.jsxs)(n.h2,{id:"\u0441\u0438\u0441\u0442\u0435\u043c\u0430-set-get",children:["\u0421\u0438\u0441\u0442\u0435\u043c\u0430 ",(0,d.jsx)(n.strong,{children:"set-get"}),"."]}),"\n",(0,d.jsxs)(n.p,{children:["\u0414\u0430\u043d\u043d\u044b\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u043a\u043b\u044e\u0447 - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0425\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u043c\u043e\u0433\u0443\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0442\u0438\u043f\u044b \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445: ",(0,d.jsx)(n.code,{children:"str"}),", ",(0,d.jsx)(n.code,{children:"int"}),", ",(0,d.jsx)(n.code,{children:"float"}),", ",(0,d.jsx)(n.code,{children:"bool"}),", ",(0,d.jsx)(n.code,{children:"None"}),", ",(0,d.jsx)(n.code,{children:"list"}),", ",(0,d.jsx)(n.code,{children:"dict"})]}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["\u041d\u0438\u0436\u0435, \u043f\u043e\u0434 \u0442\u0438\u043f\u043e\u043c \u0434\u0430\u043d\u043d\u044b\u0445 ",(0,d.jsx)(n.em,{children:"Any"})," \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u0434\u0440\u0430\u0437\u0443\u043c\u0435\u0432\u0430\u0442\u044c\u0441\u044f \u0432\u044b\u0448\u0435\u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u044b\u0435 \u0442\u0438\u043f\u044b \u0438 \u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u044b \u0434\u0430\u043d\u043d\u044b\u0445"]})}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.h3,{id:"async-set",children:["async ",(0,d.jsx)(n.code,{children:"set"})]}),"\n",(0,d.jsx)(n.p,{children:"\u0423\u0441\u0442\u0430\u043d\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u0442 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"variable"})," (",(0,d.jsx)(n.em,{children:"str"}),") - \u0418\u043c\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 (\u043a\u043b\u044e\u0447)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"value"})," (",(0,d.jsx)(n.em,{children:"Any"}),") - \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442"}),": ",(0,d.jsx)(n.em,{children:"None"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",children:"await mod.db.set('count', 10)\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.h3,{id:"async-get",children:["async ",(0,d.jsx)(n.code,{children:"get"})]}),"\n",(0,d.jsxs)(n.p,{children:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435. \u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441 \u0442\u0430\u043a\u0438\u043c \u043a\u043b\u044e\u0447\u0435\u043c \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 - \u0432\u0435\u0440\u043d\u0435\u0442\u0441\u044f ",(0,d.jsx)(n.code,{children:"default"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"variable"})," (",(0,d.jsx)(n.em,{children:"str"}),") - \u0418\u043c\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439 (\u043a\u043b\u044e\u0447)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"default"})," (",(0,d.jsx)(n.em,{children:"optional"}),") = ",(0,d.jsx)(n.em,{children:"None"})," - \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0412\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0435\u0441\u043b\u0438 ",(0,d.jsx)(n.code,{children:"variable"})," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442"}),": Any - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",children:"count = await mod.db.get('count', 0)\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.h3,{id:"async-getall",children:["async ",(0,d.jsx)(n.code,{children:"getall"})]}),"\n",(0,d.jsx)(n.p,{children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432\u0441\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"default"})," (",(0,d.jsx)(n.em,{children:"optional"}),") = ",(0,d.jsx)(n.em,{children:"None"})," - \u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e. \u0412\u0435\u0440\u043d\u0435\u0442\u0441\u044f \u0435\u0441\u043b\u0438 \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445 \u043d\u0435\u0442 \u0432 \u0411\u0414."]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442"}),": ",(0,d.jsx)(n.em,{children:"List[str, Any]"})," - \u0421\u043b\u043e\u0432\u0430\u0440\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439, \u0433\u0434\u0435 \u043a\u043b\u044e\u0447\u0438 \u044d\u0442\u043e \u0438\u043c\u0435\u043d\u0430 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0445"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",children:"all_values = await mod.db.getall()\n"})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.h3,{id:"async-remove--delete",children:["async ",(0,d.jsx)(n.code,{children:"remove"})," / ",(0,d.jsx)(n.code,{children:"delete"})]}),"\n",(0,d.jsx)(n.p,{children:"\u0423\u0434\u0430\u043b\u044f\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u0443\u044e \u0438\u0437 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"variable"})," (",(0,d.jsx)(n.em,{children:"str"}),") - \u0438\u043c\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u043e\u0439, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043d\u0430\u0434\u043e \u0443\u0434\u0430\u043b\u0438\u0442\u044c"]}),"\n"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442"}),": ",(0,d.jsx)(n.em,{children:"None"})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",children:"await mod.db.remove('count')\n"})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"sql",children:"SQL"}),"\n",(0,d.jsx)(n.p,{children:"\u041a\u0440\u043e\u043c\u0435 set-get \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c SQL \u0411\u0414 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e - \u0447\u0435\u0440\u0435\u0437 \u0441\u0430\u043c SQL!"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.h3,{id:"async-sql",children:["async ",(0,d.jsx)(n.code,{children:"sql"})]}),"\n",(0,d.jsx)(n.p,{children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c SQL \u0437\u0430\u043f\u0440\u043e\u0441."}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0410\u0440\u0433\u0443\u043c\u0435\u043d\u0442\u044b"}),":"]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"sql"})," (",(0,d.jsx)(n.em,{children:"str"}),") - SQL \u0437\u0430\u043f\u0440\u043e\u0441"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"asdict"})," (",(0,d.jsx)(n.em,{children:"optional"}),", ",(0,d.jsx)(n.em,{children:"bool"}),") = ",(0,d.jsx)(n.em,{children:"False"})," - \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0441\u043b\u043e\u0432\u0430\u0440\u044f (\u043a\u043e\u043b\u043e\u043d\u043a\u0430: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"**params"})," - \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u0434\u0430\u0447\u0438 \u0432 SQL \u0437\u0430\u043f\u0440\u043e\u0441."]}),"\n"]}),"\n",(0,d.jsxs)(n.admonition,{type:"danger",children:[(0,d.jsxs)(n.p,{children:["\u0412\u0441\u0435\u0433\u0434\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0437\u0430\u043f\u0440\u043e\u0441\u0430 (",(0,d.jsx)(n.code,{children:"**params"}),") \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439!"]}),(0,d.jsx)(n.p,{children:(0,d.jsxs)(n.strong,{children:["\u041d\u0435\u043b\u044c\u0437\u044f \u0432\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043d\u0430\u043f\u0440\u044f\u043c\u0443\u044e \u0447\u0435\u0440\u0435\u0437 f-\u0441\u0442\u0440\u043e\u043a\u0438 \u0438\u043b\u0438 ",(0,d.jsx)(n.code,{children:"+"}),", \u044d\u0442\u043e \u043e\u0442\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0443\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043b\u044f SQL-\u0438\u043d\u044a\u0435\u043a\u0446\u0438\u0439."]})}),(0,d.jsxs)(n.p,{children:["\u2705 ",(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:"})]}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'await mod.db.sql("SELECT * FROM users WHERE age > :age", age=18)\n'})}),(0,d.jsxs)(n.p,{children:["\u274c ",(0,d.jsx)(n.strong,{children:"\u041d\u0415\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e:"})]}),(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-python",children:'await mod.db.sql(f"SELECT * FROM users WHERE age > {age}")  # \u0423\u044f\u0437\u0432\u0438\u043c\u043e\u0441\u0442\u044c!!!!\n'})}),(0,d.jsxs)(n.p,{children:["\u041f\u0435\u0440\u0435\u0434\u0430\u0447\u0430 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u043e\u0432 \u0447\u0435\u0440\u0435\u0437 ",(0,d.jsx)(n.code,{children:"**params"})," \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0437\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u043e\u0442 \u0430\u0442\u0430\u043a \u0438 \u0434\u0435\u043b\u0430\u0435\u0442 \u043a\u043e\u0434 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u043c."]})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u0412\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442"}),": ",(0,d.jsx)(n.em,{children:"None"})," | ",(0,d.jsx)(n.em,{children:"Tuple[Tuple[Any]]"})," | ",(0,d.jsx)(n.em,{children:"Dict[str, Any]"})," - \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 SQL \u0437\u0430\u043f\u0440\u043e\u0441\u0430."]}),"\n",(0,d.jsxs)(n.admonition,{type:"info",children:[(0,d.jsx)(n.p,{children:"\u0415\u0441\u043b\u0438 \u0437\u0430\u043f\u0440\u043e\u0441 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0435, \u0442\u043e \u0432\u044b\u0432\u043e\u0434 \u0431\u0443\u0434\u0435\u0442 \u0442\u0430\u043a\u0438\u043c:"}),(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\u041f\u0440\u0438 ",(0,d.jsx)(n.code,{children:"asdict=True"}),": ",(0,d.jsx)(n.code,{children:"[{\u043a\u043e\u043b\u043e\u043d\u043a\u0430: \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435, ...}, ...]"})]}),"\n",(0,d.jsxs)(n.li,{children:["\u041f\u0440\u0438 ",(0,d.jsx)(n.code,{children:"asdict=False"}),": ",(0,d.jsx)(n.code,{children:"[(\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u04351, \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u04352, ...), ...]"})]}),"\n"]})]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u041f\u0440\u0438\u043c\u0435\u0440"}),":"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",children:'result = await mod.db.sql("SELECT id, name FROM users WHERE age > :age", asdict=True, age=18)\r\n# \u041f\u0440\u0438\u043c\u0435\u0440 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430: [{"id": 1, "name": "\u0410\u043b\u0438\u0441\u0430"}, {"id": 2, "name": "\u0411\u043e\u0431"}]\n'})}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u043f\u0440\u0438\u043c\u0435\u0440\u044b",children:"\u041f\u0440\u0438\u043c\u0435\u0440\u044b:"}),"\n",(0,d.jsx)(n.admonition,{type:"info",children:(0,d.jsxs)(n.p,{children:["\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043c\u0435\u0440\u044b \u0432\u0437\u044f\u0442\u044b \u0438\u0437 \u043c\u043e\u0434\u0443\u043b\u044f ",(0,d.jsx)(n.strong,{children:"MineEvoMiner"})," (\u0432\u0435\u0440\u0441\u0438\u044f 2.5) \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u0435\u0433\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0430 ",(0,d.jsx)(n.a,{href:"t.me/Kotcananacom",children:"@Kotcananacom"})]})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",metastring:'title="MineEvoMiner/miner/mine.py, lines 25-42" showLineNumbers',children:"# \u041a\u043e\u0433\u0434\u0430 \u043a\u043b\u0438\u0435\u043d\u0442 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\r\nasync def stats_ready(app: Client, mod: Module):\r\n    AutoStopTimer(app, mod)\r\n    mod.add_task(miner(app, mod))\r\n    # highlight-start\r\n    if await mod.db.get('mine', False):\r\n        await mod.db.set('start_mine', time.time())\r\n    await mod.db.sql(\"CREATE TABLE IF NOT EXISTS mineevo_stats (type_case TEXT, type_bust TEXT, count INTEGER, timee TEXT)\")\r\n    # highlight-end\r\n    await initialization_found(app, mod)\r\n\r\n    \r\n# \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c/\u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043a\u0435\u0439\u0441\u043e\u0432\r\nasync def beautiful_case_found(app: Client, msg: Message, mod: Module):\r\n    # highlight-start\r\n    beautiful = await mod.db.get('beautiful_found', False)\r\n    await mod.db.set('beautiful_found', not beautiful)\r\n    # highlight-end\r\n    if beautiful:\r\n        await msg.edit(f\"{Emojis.YES_2} {b('\u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043a\u0435\u0439\u0441\u043e\u0432 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e')}\")\r\n    else:\r\n        await msg.edit(f\"{Emojis.YES} {b('\u041a\u0440\u0430\u0441\u0438\u0432\u043e\u0435 \u043e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043d\u044b\u0445 \u043a\u0435\u0439\u0441\u043e\u0432 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043e')}\")\n"})}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-py",metastring:'title="MineEvoMiner/miner/mine.py, lines 161-177" showLineNumbers',children:"# \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c/\u0432\u044b\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043a\u043e\u043f\u0430\u043d\u0438\u0435\r\nasync def mine_cmd(app: Client, msg: Message, mod: Module):\r\n    # highlight-start\r\n    mine = await mod.db.get('mine', False)\r\n    clicks = await mod.db.get('clicks', 0)\r\n    # highlight-end\r\n    get_mine_bot_value = await get_mine_bot(mod)\r\n    # highlight-next-line\r\n    await mod.db.set('mine', not mine)\r\n    if mine:\r\n        # highlight-start\r\n        await mod.db.set('end_mine', time.time())\r\n        start = await mod.db.get('start_mine', 0)\r\n        end = await mod.db.get('end_mine', 0)\r\n        # highlight-end\r\n        if end > start:\r\n            session_time = end - start\r\n            # highlight-next-line\r\n            total_time = await mod.db.get('mine_total_time', 0)\r\n            total_time += session_time\r\n            # highlight-next-line\r\n            await mod.db.set('mine_total_time', total_time)\r\n        # highlight-start\r\n        cases = await mod.db.sql(\"SELECT type_case, SUM(count) FROM mineevo_stats WHERE timee BETWEEN :start_time AND :end_time GROUP BY type_case\", start_time=start, end_time=end)\r\n        busts = await mod.db.sql(\"SELECT type_bust, SUM(count) FROM mineevo_stats WHERE timee BETWEEN :start_time AND :end_time GROUP BY type_bust\", start_time=start, end_time=end)\r\n        # highlight-end\r\n\r\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var i=s(6540);const d={},r=i.createContext(d);function t(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:t(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);